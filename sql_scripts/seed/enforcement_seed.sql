USE NationalParkDB;
GO

-- ============================================
-- 执法监管模块示例数据
-- ============================================

-- 1. 插入执法人员数据
IF (SELECT COUNT(*) FROM dbo.[执法人员信息表]) < 5
BEGIN
    -- 先清空现有数据（如果少于5条）
    DELETE FROM dbo.[执法调度信息表];
    DELETE FROM dbo.[非法行为记录表];
    DELETE FROM dbo.[执法人员信息表];
    
    INSERT INTO dbo.[执法人员信息表] ([law_enforcement_id], [staff_name], [department], [permission], [contact], [equipment_number]) VALUES
    ('EF001', N'张强', N'执法大队一中队', N'一级执法权，可处理所有类型违法行为', '13901234567', 'DEV_001'),
    ('EF002', N'李明', N'执法大队一中队', N'一级执法权，可处理所有类型违法行为', '13902345678', 'DEV_002'),
    ('EF003', N'王刚', N'执法大队二中队', N'二级执法权，处理一般违法行为', '13903456789', 'DEV_003'),
    ('EF004', N'刘伟', N'执法大队二中队', N'二级执法权，处理一般违法行为', '13904567890', 'DEV_004'),
    ('EF005', N'陈晨', N'执法大队三中队', N'一级执法权，可处理所有类型违法行为', '13905678901', 'DEV_005'),
    ('EF006', N'赵磊', N'执法大队三中队', N'三级执法权，协助执法', '13906789012', 'DEV_006'),
    ('EF007', N'孙浩', N'森林警察支队', N'特级执法权，处理严重违法行为', '13907890123', 'DEV_007'),
    ('EF008', N'周鹏', N'森林警察支队', N'特级执法权，处理严重违法行为', '13908901234', 'DEV_008');
    
    PRINT N'已插入8条执法人员数据';
END
ELSE
BEGIN
    PRINT N'执法人员表已有足够数据，跳过插入';
END
GO

-- 2. 插入视频监控点数据
IF (SELECT COUNT(*) FROM dbo.[视频监控点信息表]) < 5
BEGIN
    DELETE FROM dbo.[非法行为记录表];
    DELETE FROM dbo.[视频监控点信息表];
    
    INSERT INTO dbo.[视频监控点信息表] ([monitor_point_id], [area_number], [install_location_lng], [install_location_lat], [monitor_range], [device_status], [data_storage_cycle]) VALUES
    ('CAM_001', N'核心保护区-A1', 103.456789, 30.123456, N'半径500米，覆盖主要栖息地入口', N'正常', 180),
    ('CAM_002', N'核心保护区-A2', 103.457890, 30.124567, N'半径300米，覆盖水源地', N'正常', 180),
    ('CAM_003', N'缓冲区-B1', 103.458901, 30.125678, N'半径800米，覆盖游客步道', N'正常', 90),
    ('CAM_004', N'缓冲区-B2', 103.459012, 30.126789, N'半径600米，覆盖观景平台', N'故障', 90),
    ('CAM_005', N'缓冲区-B3', 103.460123, 30.127890, N'半径500米，覆盖休息区', N'正常', 90),
    ('CAM_006', N'实验区-C1', 103.461234, 30.128901, N'半径400米，覆盖科研站点', N'正常', 120),
    ('CAM_007', N'实验区-C2', 103.462345, 30.129012, N'半径350米，覆盖样地入口', N'正常', 120),
    ('CAM_008', N'入口服务区-D1', 103.463456, 30.130123, N'半径200米，覆盖主入口', N'正常', 60),
    ('CAM_009', N'入口服务区-D2', 103.464567, 30.131234, N'半径200米，覆盖停车场', N'故障', 60),
    ('CAM_010', N'巡护路线-E1', 103.465678, 30.132345, N'半径1000米，覆盖巡护道路', N'正常', 90);
    
    PRINT N'已插入10条视频监控点数据';
END
ELSE
BEGIN
    PRINT N'视频监控点表已有足够数据，跳过插入';
END
GO

-- 3. 插入非法行为记录数据
IF (SELECT COUNT(*) FROM dbo.[非法行为记录表]) < 5
BEGIN
    DELETE FROM dbo.[执法调度信息表];
    DELETE FROM dbo.[非法行为记录表];
    
    INSERT INTO dbo.[非法行为记录表] ([record_id], [behavior_type], [occur_time], [area_number], [evidence_path], [handle_status], [law_enforcement_id], [handle_result], [punishment_basis], [monitor_point_id]) VALUES
    ('REC_20240101001', N'非法进入', '2024-01-15 08:30:00', N'核心保护区-A1', '/evidence/REC_20240101001.mp4', N'已结案', 'EF001', N'当事人已接受教育，并签署承诺书', N'《自然保护区条例》第三十四条', 'CAM_001'),
    ('REC_20240101002', N'盗猎', '2024-01-20 23:15:00', N'核心保护区-A2', '/evidence/REC_20240101002.mp4', N'已结案', 'EF007', N'移交公安机关处理，当事人被拘留15日', N'《野生动物保护法》第四十五条', 'CAM_002'),
    ('REC_20240102001', N'破坏植被', '2024-02-05 14:20:00', N'缓冲区-B1', '/evidence/REC_20240102001.mp4', N'已结案', 'EF003', N'罚款2000元，责令恢复植被', N'《森林法》第七十四条', 'CAM_003'),
    ('REC_20240102002', N'非法采集', '2024-02-18 10:45:00', N'实验区-C1', '/evidence/REC_20240102002.mp4', N'处理中', 'EF005', NULL, NULL, 'CAM_006'),
    ('REC_20240103001', N'非法进入', '2024-03-01 06:00:00', N'核心保护区-A1', '/evidence/REC_20240103001.mp4', N'未处理', NULL, NULL, NULL, 'CAM_001'),
    ('REC_20240103002', N'破坏植被', '2024-03-05 16:30:00', N'缓冲区-B2', '/evidence/REC_20240103002.mp4', N'未处理', NULL, NULL, NULL, 'CAM_004'),
    ('REC_20240103003', N'盗猎', '2024-03-10 02:00:00', N'核心保护区-A2', '/evidence/REC_20240103003.mp4', N'处理中', 'EF008', N'正在调查中', NULL, 'CAM_002'),
    ('REC_20240104001', N'非法采集', '2024-03-15 11:20:00', N'实验区-C2', '/evidence/REC_20240104001.mp4', N'未处理', NULL, NULL, NULL, 'CAM_007'),
    ('REC_20240104002', N'非法进入', '2024-03-18 07:45:00', N'缓冲区-B3', '/evidence/REC_20240104002.mp4', N'处理中', 'EF004', NULL, NULL, 'CAM_005'),
    ('REC_20240105001', N'其他', '2024-03-20 15:00:00', N'入口服务区-D1', '/evidence/REC_20240105001.mp4', N'已结案', 'EF002', N'游客乱扔垃圾，已清理并警告', N'《国家公园管理暂行办法》', 'CAM_008');
    
    PRINT N'已插入10条非法行为记录数据';
END
ELSE
BEGIN
    PRINT N'非法行为记录表已有足够数据，跳过插入';
END
GO

-- 4. 插入执法调度数据
IF (SELECT COUNT(*) FROM dbo.[执法调度信息表]) < 3
BEGIN
    DELETE FROM dbo.[执法调度信息表];
    
    INSERT INTO dbo.[执法调度信息表] ([dispatch_id], [record_id], [law_enforcement_id], [dispatch_time], [response_time], [complete_time], [dispatch_status]) VALUES
    ('DSP_20240101001', 'REC_20240101001', 'EF001', '2024-01-15 08:35:00', '2024-01-15 08:40:00', '2024-01-15 10:30:00', N'已完成'),
    ('DSP_20240101002', 'REC_20240101002', 'EF007', '2024-01-20 23:20:00', '2024-01-20 23:25:00', '2024-01-21 03:00:00', N'已完成'),
    ('DSP_20240102001', 'REC_20240102001', 'EF003', '2024-02-05 14:25:00', '2024-02-05 14:35:00', '2024-02-05 17:00:00', N'已完成'),
    ('DSP_20240102002', 'REC_20240102002', 'EF005', '2024-02-18 10:50:00', '2024-02-18 11:00:00', NULL, N'已响应'),
    ('DSP_20240103001', 'REC_20240103003', 'EF008', '2024-03-10 02:10:00', '2024-03-10 02:20:00', NULL, N'已响应'),
    ('DSP_20240104001', 'REC_20240104002', 'EF004', '2024-03-18 07:50:00', '2024-03-18 08:00:00', NULL, N'已派单'),
    ('DSP_20240105001', 'REC_20240105001', 'EF002', '2024-03-20 15:05:00', '2024-03-20 15:10:00', '2024-03-20 15:30:00', N'已完成');
    
    PRINT N'已插入7条执法调度数据';
END
ELSE
BEGIN
    PRINT N'执法调度信息表已有足够数据，跳过插入';
END
GO

PRINT N'执法监管模块示例数据插入完成';
GO
