<!doctype html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ç§‘ç ”æ•°æ® - å›½å®¶å…¬å›­æ™ºæ…§ç®¡ç†ç³»ç»Ÿ</title>
    <link rel="stylesheet" href="/web/assets/css/common.css" />
    <link rel="stylesheet" href="/web/assets/css/visitor.css" />
    <style>
      /* ç§‘ç ”æ•°æ®è¡¨æ ¼ç¾åŒ– */
      .data-table { width: 100%; border-collapse: collapse; background: #fff; border-radius: 12px; overflow: hidden; box-shadow: 0 4px 12px rgba(0,0,0,0.08); }
      .data-table thead { background: linear-gradient(135deg, #6366f1, #8b5cf6); }
      .data-table th { padding: 14px 12px; text-align: center; font-weight: 600; color: #fff; font-size: 13px; letter-spacing: 0.5px; }
      .data-table td { padding: 12px; text-align: center; border-bottom: 1px solid #e5e7eb; font-size: 13px; }
      .data-table tbody tr { transition: all 0.2s ease; }
      .data-table tbody tr:hover { background: linear-gradient(90deg, #f5f3ff, #ede9fe); transform: scale(1.005); }
      .data-table tbody tr:nth-child(even) { background: #faf5ff; }
      .data-table tbody tr:nth-child(even):hover { background: linear-gradient(90deg, #f5f3ff, #ede9fe); }
      
      /* æ ‡ç­¾æ ·å¼ */
      .tag { display: inline-block; padding: 4px 12px; border-radius: 20px; font-size: 12px; font-weight: 600; }
      .tag-success { background: linear-gradient(135deg, #dcfce7, #bbf7d0); color: #166534; }
      .tag-warning { background: linear-gradient(135deg, #fef3c7, #fde68a); color: #92400e; }
      .tag-danger { background: linear-gradient(135deg, #fee2e2, #fecaca); color: #991b1b; }
      .tag-info { background: linear-gradient(135deg, #dbeafe, #bfdbfe); color: #1e40af; }
      .tag-purple { background: linear-gradient(135deg, #f3e8ff, #e9d5ff); color: #7c3aed; }
      
      /* æŒ‰é’®åŠ¨ç”» */
      .btn { transition: all 0.2s ease; }
      .btn:hover { transform: translateY(-1px); box-shadow: 0 4px 12px rgba(0,0,0,0.15); }
      
      /* ç»Ÿè®¡å¡ç‰‡ä¼˜åŒ– */
      .stat-card { background: linear-gradient(135deg, #fff, #faf5ff); border: 1px solid #e9d5ff; }
      .stat-card:hover { transform: translateY(-2px); box-shadow: 0 8px 20px rgba(139,92,246,0.15); }
      
      /* è¡¨å•æ ·å¼ */
      .form-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 16px; }
      .field-label { display: block; font-weight: 500; color: #374151; margin-bottom: 6px; font-size: 13px; }
      .field-input, .field-select { width: 100%; padding: 10px 12px; border: 1px solid #d1d5db; border-radius: 8px; font-size: 14px; transition: all 0.2s; }
      .field-input:focus, .field-select:focus { border-color: #8b5cf6; box-shadow: 0 0 0 3px rgba(139,92,246,0.1); outline: none; }
      textarea.field-input { resize: vertical; min-height: 60px; }
    </style>
  </head>
  <body>
    <div class="app-shell">
      <aside id="sidebar" class="sidebar"></aside>
      <div class="main">
        <header id="header" class="header"></header>
        <main class="content container">
          <div class="page-header">
            <h1 class="page-title">ğŸ”¬ ç§‘ç ”æ•°æ®</h1>
            <p class="page-subtitle">ç§‘ç ”é¡¹ç›®ç®¡ç†ã€æ ·æœ¬é‡‡é›†ã€ç ”ç©¶æˆæœã€æˆæƒè®¿é—®æ§åˆ¶</p>
          </div>

          <div class="grid grid-4" style="margin-bottom: 24px;">
            <div class="stat-card">
              <div class="stat-icon">ğŸ“‹</div>
              <div class="stat-value" id="statProjects">--</div>
              <div class="stat-label">ç§‘ç ”é¡¹ç›®</div>
            </div>
            <div class="stat-card">
              <div class="stat-icon accent">ğŸ§ª</div>
              <div class="stat-value" id="statCollections">--</div>
              <div class="stat-label">é‡‡é›†è®°å½•</div>
            </div>
            <div class="stat-card">
              <div class="stat-icon warning">ğŸ“„</div>
              <div class="stat-value" id="statAchievements">--</div>
              <div class="stat-label">ç ”ç©¶æˆæœ</div>
            </div>
            <div class="stat-card">
              <div class="stat-icon info">ğŸ”</div>
              <div class="stat-value" id="statAuthorized">--</div>
              <div class="stat-label">æˆæƒè®°å½•</div>
            </div>
          </div>

          <div class="card">
            <div class="card-header">
              <div class="tabs" id="tabs">
                <button class="tab active" data-tab="projects">ç§‘ç ”é¡¹ç›®</button>
                <button class="tab" data-tab="collections">é‡‡é›†è®°å½•</button>
                <button class="tab" data-tab="achievements">ç ”ç©¶æˆæœ</button>
              </div>
              <button class="btn btn-primary" id="createBtn">â• æ–°å¢</button>
            </div>
            <div class="card-body">
              <div id="notice" class="notice notice-warning" style="display: none"></div>
              
              <div class="tab-content active" id="tab-projects">
                <div id="projectsTable"></div>
              </div>
              
              <div class="tab-content" id="tab-collections">
                <div id="collectionsTable"></div>
              </div>
              
              <div class="tab-content" id="tab-achievements">
                <div id="achievementsTable"></div>
              </div>
            </div>
          </div>
        </main>
      </div>
    </div>

    <script src="/web/assets/js/api.js"></script>
    <script src="/web/assets/js/auth.js"></script>
    <script src="/web/assets/js/common.js"></script>
    <script src="/web/assets/js/research.js"></script>
    <script>
      (function () {
        if (!Auth.requireLogin()) return;
        Common.initLayout({ active: "research", pageTitle: "ç§‘ç ”æ•°æ®" }).then(function (ctx) {
          ResearchPage.init(ctx.profile);
        });
      })();
    </script>
  </body>
</html>

